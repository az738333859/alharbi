<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لعبتي الأولى</title>
    <!-- ربط ملف التصميم styles.css -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>مرحبًا بك في لعبتي الأولى!</h1>
    <p>اضغط على الزر لتبدأ المغامرة!</p>
    <!-- زر لبدء اللعبة -->
    <button id="startButton">ابدأ اللعب</button>
    
    <!-- إضافة منطقة اللعبة -->
    <div id="gameArea" style="display: none; margin-top: 20px;">
        <p>اللعبة بدأت! حاول تحقيق أعلى النقاط!</p>
        <!-- عرض عداد النقاط -->
        <p>نقاطك: <span id="score">0</span></p>
        <!-- عداد الوقت -->
        <p id="timer">الوقت المتبقي: 30 ثانية</p>
        <!-- عرض السؤال -->
        <p id="question"></p>
        <!-- إدخال الإجابة -->
        <input type="text" id="answer" placeholder="أدخل إجابتك">
        <!-- زر للتحقق من الإجابة وكسب النقاط -->
        <button id="checkAnswerButton">تحقق من الإجابة!</button>
    </div>

    <script>
        // دالة تشغيل اللعبة عند الضغط على الزر
        function startGame() {
            document.getElementById('startButton').style.display = 'none';
            document.getElementById('gameArea').style.display = 'block';
            alert("اللعبة بدأت! استمتع!");
            showQuestion(); // عرض سؤال عند بدء اللعبة
        }

        // متغيرات الوقت
        let timeLeft = 30; // الوقت بالثواني
        let timer; // متغير لحفظ المؤقت

        // دالة لبدء العداد
        function startTimer() {
            timer = setInterval(function () {
                timeLeft--; // ننقص ثانية كل مرة
                document.getElementById('timer').textContent = `الوقت المتبقي: ${timeLeft} ثانية`; // نحدث النص في HTML
                if (timeLeft <= 0) { // لما الوقت يخلص
                    clearInterval(timer); // نوقف العداد
                    endGame(); // ننهي اللعبة
                }
            }, 1000); // يحدث كل ثانية
        }

        // دالة لإنهاء اللعبة
        function endGame() {
            alert('انتهى الوقت! نتيجتك: ' + score); // رسالة عند انتهاء الوقت
            document.getElementById('gameArea').style.display = 'none'; // نخفي منطقة اللعبة
            document.getElementById('startButton').style.display = 'block'; // نظهر زر البداية
            score = 0; // نعيد تعيين النتيجة للصفر
            timeLeft = 30; // نعيد تعيين الوقت للصفر
        }

        // ربط زر البدء بدالة startGame
        document.getElementById('startButton').addEventListener('click', function () {
            startGame();
            startTimer(); // نبدأ العداد
        });

        // دالة لزيادة النقاط
        let score = 0; // متغير لتخزين النقاط

        // مصفوفة الأسئلة والإجابات
        const questions = [
            { question: 'ما هو لون السماء؟', answer: 'أزرق' },
            { question: 'كم تساوي 2 + 2؟', answer: '4' },
            { question: 'ما هي عاصمة السعودية؟', answer: 'الرياض' }
        ];

        // دالة لعرض سؤال عشوائي
        function showQuestion() {
            const randomIndex = Math.floor(Math.random() * questions.length);
            const currentQuestion = questions[randomIndex];
            document.getElementById('question').textContent = currentQuestion.question;
            document.getElementById('checkAnswerButton').onclick = function() {
                checkAnswer(currentQuestion.answer);
            };
        }

        // دالة للتحقق من الإجابة
        function checkAnswer(correctAnswer) {
            const userAnswer = document.getElementById('answer').value.trim();
            if (userAnswer === correctAnswer) {
                score++; // زيادة النقاط عند الإجابة الصحيحة
                alert('إجابة صحيحة! +1 نقطة');
            } else {
                alert('إجابة خاطئة، حاول مرة أخرى!');
            }
            document.getElementById('score').textContent = score; // تحديث النقاط
            document.getElementById('answer').value = ''; // مسح الحقل للإجابة الجديدة
            showQuestion(); // عرض سؤال جديد
        }
    </script>
</body>
</html>
